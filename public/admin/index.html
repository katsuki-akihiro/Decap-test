<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Decap CMS</title>
    <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  </head>
  <body>
    <script>
      window.CMS.registerEditorComponent({
        id: "note",
        label: "Note",
        fields: [{ name: "text", label: "Text", widget: "string" }],
        pattern: /^:::note\s([\s\S]*?)\s:::/,
        fromBlock: function (match) {
          return { text: match[1] };
        },
        toBlock: function (obj) {
          return ":::note\n" + obj.text + "\n:::";
        },
        toPreview: function (obj) {
          return "<div class='note'>" + obj.text + "</div>";
        }
      });
    </script>
  </body>
</html>
